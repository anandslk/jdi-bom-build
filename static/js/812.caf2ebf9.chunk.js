"use strict";(self.webpackChunkreact_widget_template=self.webpackChunkreact_widget_template||[]).push([[812],{2812:(e,t,r)=>{r.r(t);var n=r(5043),s=r(4391),i=r(5091),a=r(6317),l=r(579);(0,s.createRoot)(document.getElementById("root")).render((0,l.jsx)(n.StrictMode,{children:(0,l.jsx)(i.b,{children:(0,l.jsx)(a.A,{})})}))},6317:(e,t,r)=>{r.d(t,{r:()=>P,A:()=>k});var n=r(7055),s=r(5043),i=r(3969),a=r(4799),l=r(5974),o=r(13),c=r(1449),d=r(2097),x=r(4842),u=r(3759),p=r(579);const h=e=>{let{parentParts:t,sourceOrg:r,selectedItems:n}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l.A,{spacing:3,children:[(0,p.jsxs)(i.A,{children:[(0,p.jsx)(x.A,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"Parent item(s) to Assign:"}),(0,p.jsx)(x.A,{variant:"body1",sx:{marginBottom:2,whiteSpace:"pre-line"},children:t})]}),(0,p.jsxs)(i.A,{children:[(0,p.jsx)(x.A,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"Source Organization:"}),(0,p.jsx)(x.A,{variant:"body1",sx:{marginBottom:2},children:r})]}),(0,p.jsxs)(i.A,{children:[(0,p.jsx)(x.A,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"Items to be Processed:"}),n.length>0?(0,p.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,marginTop:1},children:n.map((e=>(0,p.jsx)(u.A,{label:e,color:"primary"},e)))}):(0,p.jsx)(x.A,{variant:"body2",color:"textSecondary",children:"No items selected."})]})]})})};var g=r(3546),m=r(3605),j=r(6020);const b=e=>{let{message:t}=e;return(0,p.jsxs)(a.A,{sx:{padding:4,width:"100%",maxWidth:600,borderRadius:4,boxShadow:3,textAlign:"center",backgroundColor:"#f5f5f5",border:"2px solid #3f51b5"},children:[(0,p.jsx)(i.A,{sx:{marginBottom:2},children:(0,p.jsx)(x.A,{variant:"h6",color:"primary",fontWeight:"bold",children:t})}),(0,p.jsx)(j.A,{color:"primary"})]})};function f(e){let{children:t,isOpen:r,onSubmit:n,onCancel:i,disabled:a,title:o}=e;const c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=new AbortController,{signal:t}=e;return r&&window.addEventListener("mousedown",(function(e){c.current&&!c.current.contains(e.target)&&i()}),{signal:t}),()=>e.abort()}),[r,i]),(0,p.jsx)("div",{className:"flex justify-center items-center",children:(0,p.jsx)(g.N,{children:r&&(0,p.jsx)(m.P.div,{className:"fixed inset-0 flex items-center justify-center backdrop-blur-xs bg-black/30 z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,p.jsxs)(m.P.div,{ref:c,className:"bg-white rounded-2xl p-6 shadow-xl min-w-[70%] md:min-w-[40%] max-w-[60%]",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,p.jsx)(x.A,{variant:"h5",sx:{fontWeight:"bold",textAlign:"center"},children:o}),a&&(0,p.jsx)("div",{className:"w-full flex justify-center py-4",children:(0,p.jsx)(b,{message:"Searching for parts..."})}),t,(0,p.jsxs)(l.A,{direction:"row",spacing:2,justifyContent:"flex-end",className:"pt-4",children:[(0,p.jsx)(d.A,{variant:"contained",color:"primary",onClick:n,disabled:a,children:"Confirm"}),(0,p.jsx)(d.A,{variant:"outlined",color:"secondary",onClick:i,disabled:a,children:"Cancel"})]})]})})})})}var A=r(3774),v=r(7122);const y=(0,A.eU)(!1);var w=r(9522),O=r(3768);var C=r(5906);const S=e=>{var t,r;let{selectedItems:s,onChange:l,disabled:c}=e;const d=e=>{!e||null!==s&&void 0!==s&&s.includes(e)||l([...s,e])},{data:h}=(0,w.Z6)({}),{data:g}=(0,w.sQ)({});return(0,p.jsxs)(i.A,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2},children:[(0,p.jsx)(C.A,{options:null!==(t=null===h||void 0===h?void 0:h.data)&&void 0!==t?t:[],onChange:(e,t)=>d(t),renderInput:e=>(0,p.jsx)(o.A,(0,n.A)((0,n.A)({},e),{},{label:"RDO Name (will appear in Selected Plants)",fullWidth:!0,variant:"outlined",disabled:c}))}),(0,p.jsx)(C.A,{options:null!==(r=null===g||void 0===g?void 0:g.data)&&void 0!==r?r:[],onChange:(e,t)=>d(t),renderInput:e=>(0,p.jsx)(o.A,(0,n.A)((0,n.A)({},e),{},{label:"Destination JDI Orgs (will appear in Selected Plants)",fullWidth:!0,variant:"outlined",disabled:c}))}),(0,p.jsx)(x.A,{variant:"caption",color:"textSecondary",children:"Selections from both fields will appear below."}),(0,p.jsxs)(a.A,{sx:{padding:2,borderRadius:2,boxShadow:2,maxHeight:200,overflowY:"auto"},children:[(0,p.jsx)(x.A,{variant:"subtitle1",sx:{fontWeight:"bold",marginBottom:2},children:"Selected Plants"}),(0,p.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,minHeight:20},children:s.map((e=>(0,p.jsx)(u.A,{label:e,onDelete:()=>{return t=e,void l(null===s||void 0===s?void 0:s.filter((e=>e!==t)));var t},color:"primary"},e)))})]})]})},P=()=>{const[e,t]=(0,s.useState)({}),[r,x]=(0,s.useState)({parentParts:"",sourceOrg:"",plants:[]}),u=(e,t)=>{x((r=>(0,n.A)((0,n.A)({},r),{},{[e]:t})))},{isOpen:g,setIsOpen:m}=(()=>{const[e,t]=(0,v.fp)(y);return{isOpen:e,setIsOpen:t}})(),j=()=>m(!1),[b,{isLoading:A}]=(0,w.nh)();return(0,p.jsxs)(i.A,{sx:{minHeight:"calc(100vh - 65px)",backgroundColor:"#eef2f6"},children:[(0,p.jsx)(f,{isOpen:g,title:"Confirm Your Submission",onSubmit:async()=>{const{data:e,error:t}=await b({parentPart:r.parentParts,sourceOrg:r.sourceOrg,plants:r.plants});t&&O.Ay.error(function(e){if(e&&"object"===typeof e&&"data"in e){const t=e;if("object"===typeof t.data&&null!==t.data&&"message"in t.data)return t.data.message}return"object"===typeof e&&null!==e&&"message"in e?(console.error(e),e.message):"An unexpected error occurred."}(t)),m(!1),O.Ay.success(e.message)},onCancel:j,disabled:A,children:(0,p.jsx)(h,{parentParts:r.parentParts,sourceOrg:r.sourceOrg,selectedItems:r.plants})}),(0,p.jsxs)(i.A,{sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",gap:4,minHeight:"calc(100vh - 200px)"},children:[(0,p.jsx)(a.A,{sx:{padding:4,width:"100%",maxWidth:600,borderRadius:4,boxShadow:3},children:(0,p.jsx)("form",{onSubmit:e=>{e.preventDefault();const n={};r.parentParts.trim()||(n.parentParts="Parent Part is required"),r.sourceOrg.trim()||(n.sourceOrg="Source org is required"),r.plants.length||(n.plants="Select either RDO Name or Destination JDI Org"),t(n),0===Object.keys(n).length&&m(!0)},children:(0,p.jsxs)(l.A,{spacing:3,children:[(0,p.jsx)(o.A,{label:"Parent item(s) to Assign",variant:"outlined",value:r.parentParts,onChange:e=>u("parentParts",e.target.value),error:!!e.parentParts,helperText:e.parentParts,fullWidth:!0}),(0,p.jsx)(o.A,{label:"Source Organization",variant:"outlined",value:r.sourceOrg,onChange:e=>u("sourceOrg",e.target.value),error:!!e.sourceOrg,helperText:e.sourceOrg,fullWidth:!0}),(0,p.jsx)(S,{selectedItems:r.plants,onChange:e=>u("plants",e),disabled:!1}),e.plants&&(0,p.jsx)(c.A,{severity:"error",children:e.plants}),(0,p.jsxs)(l.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,p.jsx)(d.A,{type:"submit",variant:"contained",color:"primary",children:"Submit"}),(0,p.jsx)(d.A,{type:"button",variant:"outlined",color:"secondary",onClick:j,children:"Cancel"})]})]})})}),!1]})]})},k=P},5091:(e,t,r)=>{r.d(t,{b:()=>u});var n=r(5043),s=r(1240),i=r(3248),a=r(3003),l=r(9367),o=r(3768),c=r(7488),d=r(7726),x=(r(2342),r(8421),r(8885),r(9555),r(4050),r(9959),r(579));const u=e=>{let{children:t}=e;const r=new s.E;return(0,n.useEffect)((()=>{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4",e.async=!0,document.body.appendChild(e)}),[]),(0,x.jsx)(l.vd,{children:(0,x.jsx)(a.Kq,{store:d.A,children:(0,x.jsx)(i.Ht,{client:r,children:(0,x.jsxs)(n.Suspense,{fallback:(0,x.jsx)("h1",{children:"loading"}),children:[(0,x.jsx)(o.l$,{position:"top-center",reverseOrder:!1}),(0,x.jsx)(c.N9,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,pauseOnFocusLoss:!1,draggable:!0,theme:"light",transition:c.br}),t]})})})})}},4050:()=>{},9555:()=>{},9959:()=>{}}]);
//# sourceMappingURL=812.caf2ebf9.chunk.js.map