"use strict";(self.webpackChunkreact_widget_template=self.webpackChunkreact_widget_template||[]).push([[582],{3728:(e,s,o)=>{o.d(s,{A:()=>l});var a=o(7055),n=o(9222),r=(o(5043),o(4282)),t=o(579);const i=["variant","size","type","disabled","onClick","className","title","text","imageSrc"],l=e=>{let{variant:s="primary",size:o="md",type:l="button",disabled:d=!1,onClick:c,className:m="",title:p,text:C,imageSrc:S}=e,u=(0,n.A)(e,i);return(0,t.jsxs)(r.A,(0,a.A)((0,a.A)({variant:s,size:o,type:l,disabled:d,onClick:c,className:m,title:p},u),{},{children:[S&&(0,t.jsx)("img",{src:S,alt:C,style:{width:"20px",height:"20px",marginRight:"5px"}})," ",C]}))}},4816:(e,s,o)=>{o.d(s,{A:()=>m});var a=o(5043),n=(o(8611),o(4220)),r=o(5284),t=o(3637),i=o(6047),l=o(3003),d=o(579);const c=e=>{let{data:s,isColumn:o,onDragStart:n,onDragEnd:r}=e;const t=(0,a.useRef)(null),c=(0,l.d4)((e=>e.droppedObject.droppedObjectData.initialDraggedData));return(0,a.useEffect)((()=>{t.current&&c&&(0,i.eB)(t.current,c,n,r)}),[s,c,n,r]),s?(0,d.jsxs)("div",{className:"d-flex ".concat(o?"flex-column":"flex-row"),children:[(0,d.jsx)("h5",{ref:t,className:"mb-1 text-start title ".concat(o?"":"me-2"),children:s.title}),(0,d.jsxs)("ul",{className:"list-group d-flex flex-row flex-sm-row flex-wrap justify-content-between pb-3 pb-md-0 ".concat(o?"":"w-75"),children:[(0,d.jsxs)("li",{className:"list-group-item flex-grow-1 text-start mx-0 ps-0 pb-0 ".concat(o?"":"d-flex flex-row justify-content-around"),style:{border:"0"},children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Type:"})," ",(0,d.jsx)("span",{className:"list-text",title:s.type,children:s.type})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Owner:"})," ",(0,d.jsx)("span",{className:"list-text",title:s.owner,children:s.owner})]}),o&&(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Maturity State:"})," ",(0,d.jsx)("span",{className:"list-text",title:s["Maturity State"],children:s["Maturity State"]})]})]}),o&&(0,d.jsxs)("li",{className:"list-group-item flex-grow-1 text-start mx-0 pt-0",style:{border:"0",paddingLeft:"0"},children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Dropped Revision :"})," ",(0,d.jsx)("span",{className:"list-text",title:s["Dropped Revision"],children:s["Dropped Revision"]})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Latest Released Revision:"})," ",(0,d.jsx)("span",{className:"list-text",title:s["Latest Released Revision"],children:s["Latest Released Revision"]})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Collabspace:"})," ",(0,d.jsx)("span",{className:"list-text",title:s["Collaborative Space Title"],children:s["Collaborative Space Title"]})]})]}),(0,d.jsx)("li",{className:"list-group-item flex-grow-1 text-start mx-0 ".concat(o?"":"d-flex flex-row"),style:{border:"0",paddingLeft:"0"},children:"Document"!==s.type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"CAD Format:"})," ",(0,d.jsx)("span",{className:"list-text",title:s["CAD Format"],children:s["CAD Format"]})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"EIN:"})," ",(0,d.jsx)("span",{className:"list-text",title:s.EIN,children:s.EIN})]})]})}),(0,d.jsx)("div",{className:"d-none d-md-flex align-items-stretch",children:(0,d.jsx)("div",{className:"vr"})}),(0,d.jsx)("div",{className:"d-flex d-md-none w-100",children:(0,d.jsx)("hr",{className:"w-100"})}),(0,d.jsx)("li",{className:"list-group-item flex-grow-1 text-start mx-0",style:{border:"0"},children:(0,d.jsx)("p",{className:"description-container",title:s.Description,children:s.Description})})]})]}):null},m=e=>{let{data:s,onDragStart:o,onDragEnd:i}=e;const[l,m]=(0,a.useState)(!0);return(0,d.jsxs)(n.A,{className:"d-flex flex-row mt-4 border-0 ",style:{width:"100%"},children:[(0,d.jsx)("div",{className:"pb-3 d-none d-md-block me-5 ms-4",children:(0,d.jsx)(n.A.Img,{className:"".concat(l?"img-thumbnail":"image-resize img-thumbnail"," "),src:s.imageURL,alt:"Card image"})}),(0,d.jsx)(r.A,{className:"".concat(l?"p-0":"p-0 layout-change"," "),children:(0,d.jsx)(c,{data:s,isColumn:l,onDragStart:o,onDragEnd:i})}),(0,d.jsx)("button",{className:"me-2 p-0 btn btn-link accordion-toggle",onClick:()=>{m(!l)},children:(0,d.jsx)(t.A,{src:"https://khanfarzan17.github.io/tedting-revision-float/images/arrow.png",alt:"downArrow",className:"rotatable ".concat(l?"rotated":"")})})]})}},759:(e,s,o)=>{o.d(s,{A:()=>d});var a=o(5043),n=(o(4119),o(3637)),r=o(8012),t=o(579);const i=()=>{const{initializeDroppableArea:e}=(0,r.A)(),s=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{s.current||(e(),s.current=!0)}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"droppable-container mt-4",children:[(0,t.jsx)(n.A,{style:{width:"90px",height:"90px"},src:"https://thewhitechamaleon.github.io/testrapp/images/drag.png",alt:"Data Collect",className:"search-icon"}),(0,t.jsx)("span",{className:"drag-and-drop-text",children:"Drag and Drop"}),(0,t.jsxs)("div",{className:"divider-container",children:[(0,t.jsx)("hr",{className:"divider"}),(0,t.jsx)("span",{className:"divider-text",children:"or"}),(0,t.jsx)("hr",{className:"divider"})]})]})})};var l=o(4816);const d=e=>{let{data:s}=e;const[o,n]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"card-with-drag-and-drop ".concat(o?"dragging":""),children:[(0,t.jsx)(i,{}),(0,t.jsx)(l.A,{data:s,onDragStart:()=>{n(!0)},onDragEnd:()=>{n(!1)}})]})}},6713:(e,s,o)=>{o.d(s,{A:()=>n});o(5043);var a=o(579);const n=()=>(0,a.jsx)("div",{className:"loader-container",children:(0,a.jsx)("div",{className:"loader"})})},5362:(e,s,o)=>{o.d(s,{A:()=>d});var a=o(5043),n=o(8931),r=o(7111),t=o(3277),i=o(2725),l=o(579);const d=(0,a.forwardRef)(((e,s)=>{let{data:o,columns:d,addedItem:c,CAName:m,state:p}=e;const{showWarningToast:C}=(0,i.A)(),[S,u]=(0,a.useState)({});(0,a.useEffect)((()=>{u({})}),[o]);const g=()=>{const e=E.getSelectedRowModel().rows.map((e=>e.original["Available Plant"]));0!==e.length?(c(e),u({})):C(t.e1)};(0,a.useImperativeHandle)(s,(()=>({addPlant:g})));const P=(0,a.useMemo)((()=>[{id:"select",cell:e=>{let{row:s}=e;return(0,l.jsx)("input",{type:"checkbox",className:"form-check-input",checked:s.getIsSelected(),onChange:s.getToggleSelectedHandler()})}},...d]),[d]),E=(0,n.N4)({data:o,columns:P,state:{rowSelection:S},enableRowSelection:!0,onRowSelectionChange:u,getCoreRowModel:(0,r.HT)()});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{type:"button",className:"btn btn-outline-primary me-3",onClick:()=>{E.getRowModel().rows.forEach((e=>e.toggleSelected(!0)))},children:"Select All"}),(0,l.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{E.getRowModel().rows.forEach((e=>e.toggleSelected(!1)))},children:"Deselect All"})]}),E.getRowModel().rows.length>0?(0,l.jsx)("div",{className:"overflow-auto",style:{maxHeight:"60vh"},children:E.getRowModel().rows.map((e=>(0,l.jsxs)("div",{className:"p-3 border-bottom d-flex align-items-center",style:{backgroundColor:e.getIsSelected()?"#d5e8f2":"inherit"},children:[(0,l.jsx)("div",{className:"me-3",children:(0,n.Kv)(e.getVisibleCells()[0].column.columnDef.cell,e.getVisibleCells()[0].getContext())}),(0,l.jsx)("div",{children:e.original[d[0].accessorKey]})]},e.id)))}):(0,l.jsx)("p",{className:"text-muted p-3",children:"No data available"})]})}))},1397:(e,s,o)=>{o.d(s,{A:()=>c});var a=o(5043),n=o(1666),r=o(2691),t=o(4282),i=o(3910),l=o(7929),d=o(579);const c=e=>{let{onSearch:s,disabled:o}=e;const[c,m]=(0,a.useState)(""),p=(0,a.useRef)(null);return(0,d.jsxs)("div",{className:"search-content-container d-flex align-items-center",children:[(0,d.jsx)(i.g,{icon:l.$UM,onClick:()=>{c.trim()&&s(c)},className:"search-icon"}),(0,d.jsx)("span",{className:"ms-4 drag-and-drop-text flex-grow-1",children:(0,d.jsxs)(n.A,{children:[(0,d.jsx)(r.A.Control,{type:"text",ref:p,value:c,onChange:e=>{const s=e.target.value;m(s)},onKeyDown:e=>{"Enter"===e.key&&c.trim()&&s(c)},placeholder:"Search...",disabled:o}),c&&(0,d.jsx)(t.A,{variant:"btn-link",onClick:()=>{m(""),p.current.focus()},className:"clear-button",children:"\u2716"})]})})]})}},768:(e,s,o)=>{o.d(s,{A:()=>_});var a=o(7055),n=o(5043),r=o(8931),t=o(7111),i=o(3585),l=o(6800),d=o(1648),c=o(3003),m=o(3728),p=o(5645),C=o(6047),S=o(1024),u=o(579);const g=e=>{let{header:s,columns:o,table:n}=e;const t="selection"===s.column.id,i=n.getState().columnPinning.left.includes(s.column.id),l=t?"is-fixed":i?"is-pinned":"",c=(0,d.gl)({id:s.column.id,disabled:"selection"===s.column.id||"EIN"===s.column.id}),{attributes:m,listeners:p,setNodeRef:C,transform:g,isDragging:P}=t?{attributes:{},listeners:{},setNodeRef:null,transform:null,isDragging:!1}:c,E={opacity:P?.8:1,position:"sticky",top:0,left:t?0:i?"var(--pinned-left)":"auto",transform:S.Ks.Transform.toString(g),transition:"width transform 0.2s ease-in-out",width:s.getSize(),zIndex:t?5:i?4:3,cursor:t?"default":"move",backgroundColor:"#f2f2f2"};return(0,u.jsxs)("th",{ref:C,style:E,"data-fixed":t,"data-pinned":i,className:l,children:[(0,u.jsx)("div",(0,a.A)((0,a.A)({className:"d-flex align-items-center header-content"},t?{}:(0,a.A)((0,a.A)({},m),p)),{},{children:(0,u.jsxs)("div",{className:"flex-grow-1",onClick:s.column.getToggleSortingHandler(),children:[s.isPlaceholder?null:(0,r.Kv)(s.column.columnDef.header,s.getContext()),"asc"===s.column.getIsSorted()?(0,u.jsx)("span",{className:"icon",children:"\u2191"}):"desc"===s.column.getIsSorted()?(0,u.jsx)("span",{className:"icon",children:"\u2193"}):null]})})),(0,u.jsx)("div",{onDoubleClick:()=>s.column.resetSize(),onMouseDown:s.getResizeHandler(),onTouchStart:s.getResizeHandler(),className:"Resizer ".concat(s.column.getIsResizing()?"isResizing":"")})]})},P=e=>{let{cell:s,columns:o,changedCells:a}=e;const n="selection"===s.column.id,t=s.column.getIsPinned(),i=n?"is-fixed":t?"is-pinned":"",l=(0,r.Kv)(s.column.columnDef.cell,s.getContext()),c=s.column.id.split("_").slice(1).join("_")||s.column.id,m=null===a||void 0===a?void 0:a[c],p=(0,d.gl)({id:s.column.id,disabled:n}),{setNodeRef:C,transform:g,isDragging:P}=n?{setNodeRef:null,transform:null,isDragging:!1}:p,E={opacity:P?.8:1,position:n||t?"sticky":"relative",left:n?0:"auto",transform:S.Ks.Transform.toString(g),transition:"width transform 0.2s ease-in-out",width:s.column.getSize(),zIndex:n?2:P?1:t?2:0};return(0,u.jsx)("td",{ref:C,style:E,className:i,title:n?"":"".concat(s.getValue()),children:n?l:(0,u.jsxs)("div",{className:"cell-content",style:{color:m?"red":"inherit",fontWeight:m?"bold":"normal"},children:[l,(0,u.jsx)("style",{children:"\n        .cell-content select {\n          color: ".concat(m?"red":"inherit"," !important;\n          font-weight: ").concat(m?"bold":"normal"," !important;\n        }\n      ")})]})})},E=e=>(console.log("Widget Type:",e),e?"tableColumnOrder_".concat(e):(console.warn("Widget type is missing, using default key"),"tableColumnOrder_default")),_=e=>{let{columns:s,data:o,editable:S=!1,meta:_,widgetType:A}=e;const R=(0,c.wA)(),[w,D]=(0,n.useState)(o),[h,O]=(0,n.useState)({}),[f,b]=(0,n.useState)(null),N=(0,n.useRef)(null),[I,T]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{const e=e=>{T(e.target.scrollTop>0)},s=N.current;return s&&s.addEventListener("scroll",e),()=>{s&&s.removeEventListener("scroll",e)}}),[]),"Revision_FLoat_Widget"!==A)var{updateTableData:M}=_;const[v,U]=(0,n.useState)((()=>{const e=E(A),o=localStorage.getItem(e);if(o)try{const e=JSON.parse(o);if(e.every((e=>"selection"===e||s.some((s=>(s.id||s.accessorKey)===e)))))return e}catch(r){console.error("Failed to parse column order for ".concat(A,":"),r)}const a=["selection"],n=s.map((e=>e.id||e.accessorKey));return a.push(...n),a}));(0,n.useEffect)((()=>{const e=E(A);localStorage.setItem(e,JSON.stringify(v))}),[v,A]),console.log("Column Order:",v);const y=(0,n.useMemo)((()=>{const e=["selection"],o=s.map((e=>e.id||e.accessorKey));return e.push(...o),e}),[s]),W=(0,n.useMemo)((()=>{const e={left:["selection","EIN "]};return s.forEach((s=>{s.columnPinning&&e.left.push(s.id||s.accessorKey)})),e}),[s]),L=(0,n.useMemo)((()=>{const e={id:"selection",header:e=>{let{table:s}=e;return(0,u.jsx)("input",{type:"checkbox",ref:e=>{e&&(e.indeterminate=s.getIsSomeRowsSelected())},checked:s.getIsAllRowsSelected(),onChange:s.getToggleAllRowsSelectedHandler()})},cell:e=>{let{row:s}=e;return(0,u.jsx)("input",{type:"checkbox",checked:s.getIsSelected(),onChange:s.getToggleSelectedHandler()})}};return[e,...S?s.map((e=>(0,a.A)((0,a.A)({},e),{},{cell:e.editable?s=>{let{row:o,getValue:n}=s;return(0,u.jsx)("input",{className:"input-cell",value:n(),onChange:s=>((e,s,o)=>{const n=w.map(((n,r)=>r===e?(0,a.A)((0,a.A)({},n),{},{[s]:o}):n));console.log("[Table] Updated Table Data:",n),null!==_&&void 0!==_&&_.updateTableData&&_.updateTableData(n),D(n)})(o.index,e.accessorKey,s.target.value)})}:e.cell}))):s]}),[s,S]),x=(0,i.FR)((0,i.MS)(i.cA,{activationConstraint:{distance:8}}),(0,i.MS)(i.IG,{activationConstraint:{delay:200,tolerance:5}}),(0,i.MS)(i.uN,{})),F=(0,r.N4)({data:w,columns:L,state:{rowSelection:h,columnOrder:v,columnPinning:W},onRowSelectionChange:O,onColumnOrderChange:U,getCoreRowModel:(0,t.HT)(),getSortedRowModel:(0,t.h5)(),enableRowSelection:!0,defaultColumn:{size:165,minSize:50,maxSize:500},columnResizeMode:"onChange",meta:{updateTableData:M}});(0,n.useEffect)((()=>{const e=F.getSelectedRowModel().flatRows.map((e=>e.original));R((0,p.dT)(e))}),[h,R]);const k=(0,n.useMemo)((()=>{const e=F.getFlatHeaders(),s={};console.log("table.getTotalSize()",F.getTotalSize());for(let o=0;o<e.length;o++){const a=e[o];s["--header-".concat(a.id,"-size")]=a.getSize(),s["--col-".concat(a.column.id,"-size")]=a.column.getSize()}return s}),[F.getState().columnSizingInfo,F.getState().columnSizing]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"toolkit my-3",children:(0,u.jsx)("div",{className:"d-flex justify-content-end button-container",children:(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)(m.A,{variant:"outline-primary",size:"lg",onClick:()=>{F.getToggleAllRowsSelectedHandler()({target:{checked:!0}})},className:"m-2",text:"Select All"}),(0,u.jsx)(m.A,{variant:"outline-secondary",size:"lg",onClick:()=>{F.getToggleAllRowsSelectedHandler()({target:{checked:!1}})},className:"m-2",text:"Deselect  All"}),(0,u.jsx)(m.A,{variant:"outline-success",size:"lg",onClick:()=>{console.log("Export button clicked"),console.log("Widget Type in handleExport:",A),"Revision_FLoat_Widget"===A?(console.log("Exporting for Revision_FLoat_Widget"),(0,C.E1)(o,"Where Used Details.xlsx")):"Plant_Assignment_Widget"===A?(console.log("Exporting for Plant_Assignment_Widget"),(0,C.E1)(o,"EAN_Manufacturing.xlsx")):"Bos_Attribute_Widget"===A?(console.log("Exporting for Bos_Attribute_Widget"),(0,C.E1)(o,"Bos_Attribute_Widget.xlsx")):(console.log("Exporting with default filename for widgetType:",A),(0,C.E1)(o,"table-data.xlsx"))},className:"m-2 border-bottom-10px",text:"Export to CSV "}),(0,u.jsx)(m.A,{variant:"outline-warning",size:"lg",onClick:()=>{const e=E(A);localStorage.removeItem(e),U(y)},className:"m-2",text:"Reset Columns"})]})})}),(0,u.jsx)("div",{className:"table-info",children:(0,u.jsxs)("p",{children:[w.length," Items"]})}),(0,u.jsx)(i.Mp,{sensors:x,collisionDetection:i.fp,modifiers:[l.dU],onDragEnd:e=>{const{active:s,over:o}=e;s&&o&&s.id!==o.id&&"selection"!==s.id&&"EIN"!==s.id&&U((e=>{const a=e.indexOf(s.id),n=e.indexOf(o.id);return(0,d.be)(e,a,n)}))},children:(0,u.jsx)("div",{ref:N,className:"table-responsive ".concat(I?"is-scrolled":""),children:(0,u.jsxs)("table",{className:"table custom-table table-hover",style:(0,a.A)((0,a.A)({},k),{},{width:F.getTotalSize()}),children:[(0,u.jsx)("thead",{children:F.getHeaderGroups().map((e=>(0,u.jsx)("tr",{children:(0,u.jsx)(d.gB,{items:F.getVisibleLeafColumns().map((e=>e.id)),strategy:d.m$,children:e.headers.map((e=>(0,u.jsx)(g,{header:e,columns:s,table:F},e.id)))})},e.id)))}),(0,u.jsx)("tbody",{children:F.getRowModel().rows.length>0?F.getRowModel().rows.map((e=>(0,u.jsx)("tr",{onClick:s=>((e,s)=>{const{rows:o,rowsById:a}=F.getRowModel();if(s.shiftKey&&f)try{const s=(0,C.EC)(o,e.id,f),n=a[f].getIsSelected();s.forEach((e=>e.toggleSelected(n)))}catch(n){console.error("Multi-select with shift+click failed:",n)}else e.toggleSelected(!e.getIsSelected());b(e.id)})(e,s),className:h[e.id]?"row-selected":"",children:(0,u.jsx)(d.gB,{items:F.getVisibleLeafColumns().map((e=>e.id)),strategy:d.m$,children:e.getVisibleCells().map((o=>(0,u.jsx)(P,{cell:o,columns:s,changedCells:e.original.changedCells},o.id)))})},e.id))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:F.getHeaderGroups()[0].headers.length,className:"no-data p-2",children:"No Table Data"})})})]})})})]})}},8012:(e,s,o)=>{o.d(s,{A:()=>d});var a=o(5043),n=o(3003),r=o(5645),t=o(360),i=(o(314),o(2725)),l=o(3277);const d=()=>{const{showErrorToast:e}=(0,i.A)(),{fetchRevisionsAndParents:s}=(0,t.A)(),o=(0,n.wA)();(0,n.d4)((e=>e.droppedObject.isDropped));return{initializeDroppableArea:()=>{},loading:(0,n.d4)((e=>e.droppedObject.loading)),handleDrop:(0,a.useCallback)((async s=>{console.log("[handleDrop] handleDrop called with dataItems:",s);try{if(s&&s.length>0){var a;const n=null===(a=s[0])||void 0===a?void 0:a.objectType;if(!["VPMReference","Document","Raw_Material"].includes(n))return void e(l.Zo);o((0,r.Rr)(!0)),console.log("[handleDrop] \ud83d\udd04 Force setting `loading = true`..."),o((0,r.r1)(!1)),setTimeout((()=>o((0,r.r1)(!0))),0)}else console.warn("[handleDrop] No data items to process.")}catch(n){console.error("[Drop] Error in handleDrop:",n),o((0,r.r1)(!1)),console.log("[handleDrop] Error in handleDrop, setting loading to false"),e(l.nz)}}),[e])}}},4675:(e,s,o)=>{o.d(s,{A:()=>t});var a=o(7055),n=o(5043),r=o(6047);const t=()=>{const[e,s]=(0,n.useState)(null),[o,t]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,r.qZ)();t(e)}catch(e){console.error("[useInterComSearch] Error initializing InterCom:",e)}})()}),[]),(0,n.useEffect)((()=>()=>{e&&e.disconnect()}),[e]);return{performSearch:(0,n.useCallback)(((e,n,r)=>{var t;if(!o)return void console.warn("[useInterComSearch] InterCom is not loaded yet.");const i="socket"+(new Date).toISOString().replace(/[-:]/g,""),l=new o.Socket(i,{dispatchRetryInternal:0});l.subscribeServer("SearchComServer"),s(l),console.log("[useInterComSearch] performSearch called with:",e,n);const d=null===(t=window.widget)||void 0===t?void 0:t.id,c=(0,a.A)((0,a.A)({},n),{},{widget_id:d,app_socket_id:i,default_search_criteria:e});console.log("[useInterComSearch] Dispatching RegisterContext event with:",c),l.dispatchEvent("RegisterContext",c),l.dispatchEvent("InContextSearch",c);console.log("[useInterComSearch] Adding listener for Selected_Objects_search"),l.addListener("Selected_Objects_search",(e=>{console.log("[useInterComSearch] Search results received:",e),r&&r(e)}))}),[o])}}},1584:(e,s,o)=>{o.d(s,{A:()=>m});var a=o(3003),n=o(7055),r=o(6047);const t=async(e,s)=>{let o={CAAtt:[]};console.log("We are into Search CA Details");const a={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;try{var n;const i=await(0,r.fV)(),l=async e=>new Promise(((o,a)=>{i.authenticatedRequest(e,{method:"GET",headers:s,type:"json",onComplete:e=>{console.log("Received response:",e),o(e)},onFailure:e=>{console.error("Request failed:",e),a(e)}})}));let d="".concat(a,"/resources/v1/modeler/dslc/changeaction/search?$searchStr=name:").concat(e);const c=null===(n=(await l(d)).changeAction[0])||void 0===n?void 0:n.identifier;if(console.log("Response From 1st Call",c),c){const e="".concat(a,"/resources/v1/modeler/dslc/changeaction/").concat(c,"?$fields=proposedChanges,flowDown"),s=await l(e);if(console.log("Response From 2nd Call",s),s){for(const e of s.isFlowDownOf||[])if("Change Action"===e.type){const s="".concat(a,"/resources/v1/modeler/dslc/changeaction/").concat(e.identifier,"?$fields=proposedChanges,flowDown");try{const e=await l(s);console.log("Response From 3rd Call",e),e&&o.CAAtt.push({CATitle:e.title,CAState:e.state})}catch(t){console.error("Error fetching parent CA data:",t)}}o.MCOState=s.state,o.MCOTitle=s.title}}return console.log("Final CA Details",o),o}catch(t){throw console.error("Error in SearchCA:",t),t}};var i=o(5645),l=(o(5043),o(3277)),d=o(2725),c=o(2268);const m=()=>{const{showErrorToast:e}=(0,d.A)(),s=(0,a.wA)();let o=window.widget.getValue("email");console.log("Email in usePlantAssignment:",o);return{handlePlantAssignment:async(a,d,m,p)=>{try{s((0,i.Ve)(!0));const C=await(0,c.I)();if(C){console.log("[UsePlantAssignment] Headers are",C);const e=await(async(e,s,o)=>{try{const a={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;console.log("[UserGroup Status] ProductId: ",s);const t=await(0,r.fV)();let i="".concat(a,"/resources/v1/modeler/dslc/sharing/getSharing");const l=await new Promise(((o,a)=>{t.authenticatedRequest(i,{method:"POST",headers:(0,n.A)((0,n.A)({},e),{},{"Content-Type":"application/json"}),data:JSON.stringify({data:[{objectID:s}]}),type:"json",onComplete:o,onFailure:a})}));console.log("[Assigned Plant Service] Data received:",l);let d=[],c={groups:[]};if(l&&(l.results.forEach((e=>{e.sharings.userGroups.forEach((e=>{"Can Edit"===e.access&&c.groups.push({uri:e.userGroupID.replace(/[<>]/g,"")})}))})),c.groups.length>0)){let e="https://oi000186152-us1-usersgroup.3dexperience.3ds.com/3drdfpersist/resources/v1/usersgroup/groups?select=uri,members,title";const s=await new Promise(((s,o)=>{t.authenticatedRequest(e,{method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(c),type:"json",onComplete:s,onFailure:o})}));console.log("Group Response is:",s),s&&(d=s.groups.filter((e=>e.members.includes(o))).map((e=>e.title)))}return console.log("[UserGroup Status] User Groups:",d),d}catch(a){throw console.error("[UserGroup Status] Error occurred:",a),a}})(C,m,o);console.log("[Plant Assignment] User Groups:",e);let l=[...e,a];if(console.log("[Use Plant Assignment] All CollabSpaces:",l),l){const e=await(async(e,s)=>{try{const o={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;let a=[];console.log("[All Plant Service] CollabSpaces: ",e),console.log("[All Plant Service] headers: ",s);const n=await(0,r.fV)(),t=async e=>new Promise(((o,a)=>{n.authenticatedRequest(e,{method:"GET",headers:s,type:"json",onComplete:e=>{console.log("Received response:",e),o(e)},onFailure:e=>{console.error("Request failed:",e),a(e)}})})),i=e.map((async e=>{try{var s,n;const d="".concat(o,"/resources/v1/modeler/dslib/dslib:Library/search?$searchStr=").concat(e),c=null===(s=(await t(d)).member)||void 0===s||null===(n=s.find((s=>s.title===e)))||void 0===n?void 0:n.id;if(console.log("[All Plant Service] Library id is:",c),c){const e="".concat(o,"/resources/v1/modeler/dslib/dslib:Library/").concat(c,"?$mask=dslib:ExpandClassifiableClassesMask"),s=await t(e),{member:n}=s;if(n&&n.length>0){var r,i;console.log("[Library Data Service] Member found:",n);const e=null===(r=n[0])||void 0===r?void 0:r.ChildClasses;if((null===e||void 0===e||null===(i=e.member)||void 0===i?void 0:i.length)>0){var l;const s=null===(l=e.member[0].ChildClasses)||void 0===l?void 0:l.member;if(s&&s.length>0){const e=s.filter((e=>!a.some((s=>s.id===e.id))));a=[...a,...e]}}}}}catch(d){throw console.error("Error processing group:",e,d),d}}));return await Promise.all(i),a}catch(o){throw console.error("[All Plant Service] Error occurred:",o),o}})(l,C);if(console.log("[Use Plant Assignment] All Plants are:",e),e){const o=await(async(e,s,o)=>{try{const a={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;console.log("[Assigned Plant Service] Plant Members:",e);const n="".concat(a,"/resources/v1/modeler/dslib/dslib:ClassifiedItem/").concat(o,"?$mask=dslib:ClassificationAttributesMask"),i=await(0,r.fV)(),l=await new Promise(((e,o)=>{i.authenticatedRequest(n,{method:"GET",headers:s,type:"json",onComplete:e,onFailure:o})}));console.log("[Assigned Plant Service] Data received:",l);let d=[],c=[],m=l.member[0].ClassificationAttributes.member;return await Promise.all(m.map((async o=>{console.log("Class Item is ",o);for(let a of e)if(o.ClassID===a.id){let e=a.title;e=e.replace("Plant","").replace(/\s+/g,"");let n={id:o.ClassID,title:a.title};const r=o.Attributes.map((o=>o.name.includes("FlowDownCA")&&o.value?t(o.value,s).then((e=>{if(e){console.log(e),n.MFGChange=null===e||void 0===e?void 0:e.MCOTitle,n.MFGStatus=null===e||void 0===e?void 0:e.MCOState;let s="",o="";e.CAAtt.forEach((e=>{s+=","+e.CATitle,o+=","+e.CAState})),n.Change=s.slice(1),n.ChangeStatus=o.slice(1)}})):(n[o.name.replace(e,"").trim()]=o.value,Promise.resolve())));await Promise.all(r),d=[...d,n],console.log("Initial Assigned Classes",d),console.log("Processed Object:",n)}}))),console.log("[Assigned Plant Service] Initial Assigned Classes:",d),c=e.filter((e=>!d.some((s=>s.id===e.id)))),console.log("uniqueInAllclasses--:",c),{success:!0,data:{plantData:{allPlants:e,initialAssignedPlants:d,uniquePlants:c}}}}catch(a){return console.error("[Object Details] Failed to fetch data:",a),{success:!1,error:a}}})(e,C,m);console.log("[Use Plant Assignment]: ",o),o.success?(s((0,i.Lq)(o.data.plantData)),s((0,i.lL)(C))):console.error("Failed to fetch plant data")}else console.warn("[Use All Plants] There are no Plants")}else console.warn("[Use All Plants] There are no CollabSpace");let c={};console.log("Type Before:",p),c="Raw_Material"===p?{success:!0,data:[]}:await(async(e,s)=>{const o={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;let a="".concat(o,"/resources/v1/modeler/dseng/dseng:EngItem/");a+=s,a+="/expand";let t={expandDepth:1,type_filter_bo:["VPMReference"],type_filter_rel:["VPMInstance"]};try{console.log("[SearchCAService] ProductId is:",s);const i=await(0,r.fV)(),l=(s,o,a)=>new Promise(((r,t)=>{i.authenticatedRequest(s,{method:o,headers:(0,n.A)((0,n.A)({},e),{},{"Content-Type":"application/json"}),data:JSON.stringify(a),type:"json",onComplete:e=>{console.log("Received response:",e),r(e)},onFailure:e=>{console.error("Request failed:",e),t(e)}})})),d=await l(a,"POST",t);console.log("[Get CA Details Service] Data received:",d);const{member:c}=d;if(c){let e=d.member.filter((e=>("VPMReference"===e.type||"Raw_Material"===e.type)&&e.id!==s)).map((e=>({id:e.id,type:e.type,name:e.title,state:e.state})));return e.length>0&&await Promise.all(e.map((async e=>{if("released"===e.state.toLowerCase()){let s="".concat(o,"/resources/v1/modeler/dslib/dslib:ClassifiedItem/").concat(e.id,"?$mask=dslib:ClassificationAttributesMask");const a=await l(s,"GET","");console.log("classResponse->",a);const n=a.member.flatMap((e=>{var s;return null!==(s=e.ClassificationAttributes)&&void 0!==s&&s.member?e.ClassificationAttributes.member.map((e=>e.ClassID)):[]}));e.classes=n}}))),{success:!0,data:e}}}catch(i){return console.error("Error while Fetching",i),{success:!1,data:[],error:i}}})(C,m),console.log("Type After:",p),console.log("[Use All Plants] Product Childrens",c),c.success&&s((0,i.VG)(c.data));const S=await(async(e,s,o)=>{const a={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;let t=!1,i=[];const l="".concat(a,"/resources/enorelnav/v2/navigate/setPreferences");let d={widgetId:"ENORIPE_Relations_Preview_2751_2038-15:33:22",relations:["caproposedwhere_from"],allRelationsMode:!1,publicationsMode:!1,computeWithInstances:!1,attributesForView:["ds6w:status","ds6w:type","ds6w:identifier"],label:"ENXENG_AP-e1331143-1734517777960",lang:"en",ghostMode:!1},c="".concat(a,"/resources/enorelnav/v2/navigate/getEcosystem"),m={widgetId:"ENORIPE_Relations_Preview_2751_2038-15:33:22",responseMode:"objectsByPatterns",label:"ENXENG_AP-e1331143-1734517780491",ids:[s]};try{console.log("[Get CA Details] Product ID:",s);const p=await(0,r.fV)(),C=await new Promise(((s,o)=>{p.authenticatedRequest(l,{method:"POST",headers:(0,n.A)((0,n.A)({},e),{},{"Content-Type":"application/json"}),data:JSON.stringify(d),type:"json",onComplete:s,onFailure:o})}));if(console.log("[Get CA Details Service] Data received:",C),"OK"===C.status){const r=await new Promise(((s,o)=>{p.authenticatedRequest(c,{method:"POST",headers:(0,n.A)((0,n.A)({},e),{},{"Content-Type":"application/json"}),data:JSON.stringify(m),type:"json",onComplete:s,onFailure:o})}));console.log("[Get CA Details Service] Data received:",r),r.objectsByPatterns.caproposedwhere_from&&await Promise.all(r.objectsByPatterns.caproposedwhere_from.map((async n=>{if("Complete"!==n["ds6w:status"].slice(14)){let r="".concat(a,"/resources/v1/modeler/dslc/changeaction/").concat(n.id,"?$fields=proposedChanges,flowDown");const l=await new Promise(((s,o)=>{p.authenticatedRequest(r,{method:"GET",headers:e,type:"json",onComplete:s,onFailure:o})}));Array.isArray(l.proposedChanges)&&l.proposedChanges.forEach((e=>{i.push({identifier:e.where.identifier,action:e.whats[0].what})})),t="released"!==o.toLowerCase()||i.some((e=>e.identifier===s&&"Modify"===e.action))}})))}else console.error("Unable to Fetch the ");return console.log("Status is coming inside 7"),console.log("Response Object is:",t),{success:!0,data:t,proposedChanges:i}}catch(p){throw console.error("Failed Request:",{url:l,headers:e,body:d,error:p}),p}})(C,m,d);return console.log("[Use All Plants] Get CA Details",S),S.success&&(s((0,i.ug)(S.data)),s((0,i.aB)(S.proposedChanges))),void console.log("[Plant Assignment] All Services Executed Successfully")}e(l.rK)}catch(C){throw console.error("[Plant Assignment] Error:",C),s((0,i.Ve)(!1)),C}finally{s((0,i.Ve)(!1))}}}}},360:(e,s,o)=>{o.d(s,{A:()=>t});var a=o(2725),n=o(3862),r=o(3277);const t=()=>{const{showSuccessToast:e,showErrorToast:s}=(0,a.A)();return{fetchRevisionsAndParents:async(e,s,o)=>{if(!o)return void console.error("[Fetch Revisions] \u274c Missing relative path.");try{const a=await n.A.post("/revFloat/getParents",{data:{id:e,type:s,relativePath:o}});if(200===a.status){return a.data}throw new Error("[Fetch Revisions] HTTP error! status: ".concat(a.status))}catch(a){return console.error("[Fetch Revisions] \u274c Error occurred:",a),null}},replaceRevisions:async(o,a,t)=>{try{const s=await n.A.post("/revFloat/floatRevisions",{SelectedParents:o,DroppedData:a,userEmail:t});if(200===s.status)return console.log("Replacement successful:",s.data),e(r.hG),{success:!0};throw new Error("[Replacement API] HTTP error! status: ".concat(s.status))}catch(i){return console.error("Error during replacement:",i),s(r.mK),{success:!1,error:i.message}}}}}},2725:(e,s,o)=>{o.d(s,{A:()=>i});var a=o(7055),n=o(9222),r=o(7488);const t=["message","type","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","pauseOnFocusLoss","draggable","theme","transition"],i=()=>{const e=e=>{let{message:s,type:o="default",position:i="top-right",autoClose:l=2e3,hideProgressBar:d=!1,closeOnClick:c=!0,pauseOnHover:m=!1,pauseOnFocusLoss:p=!1,draggable:C=!0,theme:S="light",transition:u=r.br}=e,g=(0,n.A)(e,t);(r.oR[o]||r.oR)(s,(0,a.A)({position:i,autoClose:l,hideProgressBar:d,closeOnClick:c,pauseOnHover:m,draggable:C,theme:S,transition:u},g))};return{showToast:e,showSuccessToast:function(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,a.A)({message:s,type:"success"},o))},showErrorToast:function(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,a.A)({message:s,type:"error"},o))},showInfoToast:function(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,a.A)({message:s,type:"info"},o))},showWarningToast:function(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,a.A)({message:s,type:"warn"},o))}}}},2268:(e,s,o)=>{o.d(s,{I:()=>n});var a=o(6047);const n=async()=>{try{let e=window.widget.getValue("Credentials");const s=await(0,a.fV)();console.log("Security Context is:",e);const o={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_CSRF_URL,n=await new Promise(((e,a)=>{s.authenticatedRequest(o,{method:"GET",type:"json",onComplete:e,onFailure:a})})),r=n.csrf.name,t=n.csrf.value,i="SecurityContext",l=e;return{[r]:t,[i]:l}}catch(e){return void console.error("[CSRF] Failed to fetch token:",e)}}},3127:(e,s,o)=>{o.d(s,{i:()=>t});var a=o(7055),n=o(1495),r=o(6047);const t=async(e,s,o,t,i,l,d,c,m,p,C)=>{try{const e={ALLUSERSPROFILE:"C:\\ProgramData",API_URL:"http://localhost:5001/api/v1",APPDATA:"C:\\Users\\anand.kumar\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_9372_EJQQFWERGLUZBCMP",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD324RLWT",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_10896:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\anand.kumar",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\anand.kumar\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD324RLWT",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_local_prefix:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",npm_config_user_agent:"bun/1.2.6 npm/? node/v22.6.0 win32 x64",npm_execpath:"C:\\Users\\anand.kumar\\.bun\\bin\\bun.exe",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)\\node_modules\\.bin;C:\\Users\\anand.kumar\\Downloads\\node_modules\\.bin;C:\\Users\\anand.kumar\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users\\anand.kumar\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\anand.kumar\\.bun\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:\\Users\\anand.kumar\\Downloads\\emr-revision-float (jdi-bom-cra)",QIP10896:"0",QIP9372:"0",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.0",TMP:"C:\\Users\\ANAND~1.KUM\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"anand.kumar",USERPROFILE:"C:\\Users\\anand.kumar",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\anand.kumar\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-0f9563d9bf-sock",WIDGET_ENTRY:"jdiBom",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENOVIA_BASE_URL;console.log("[Save Data] Starting data saving process..."),console.log("Type in Save Table Data:",c),console.log("Final aRRAY IS inside Save:",p),console.log("Proposed Changes in Save",C);const s=await(0,r.fV)(),o=async(e,o,n)=>(console.log("Fetching URL:",e),console.log("Request Body:",JSON.stringify(o,null,2)),new Promise(((r,i)=>{s.authenticatedRequest(e,{method:n,headers:(0,a.A)((0,a.A)({},t),{},{"Content-Type":"application/json"}),data:JSON.stringify(o),type:"json",onComplete:e=>{console.log("Response received:",e),r(e)},onFailure:e=>{console.error("Request failed:",e),i(e)}})}))),l=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";console.log("Fetching URL:",e),console.log("Method is:"),console.log("Request Body:",JSON.stringify(s,null,2));try{const r=await(0,n.A)({url:e,method:o,headers:(0,a.A)((0,a.A)({},t),{},{"Content-Type":"application/json"}),data:s});return console.log("Response received:",r.data),r.data}catch(r){throw console.error("Request failed:",r),r}};let u=d.filter((e=>{if("released"===e.state.toLowerCase()){return!C.find((s=>s.identifier===e.id&&"modify"===s.action.toLowerCase()))}return!1}));console.log("NotPropagableChilds ARE :",u);let g=[];p.forEach((e=>{if(e.MBOMValue){let s=[];u.forEach((o=>{o.classes.includes(e.id)||s.push({childId:o.id,childName:o.name})})),s.length>0&&g.push({id:e.id,title:e.title,childs:s,type:e.Type})}}));let P="";console.log("ErrorObj IS",g),g.forEach((e=>{let s="";if(Array.isArray(e.childs)&&e.childs.every((e=>e.childName))){const o=e.childs.map((e=>e.childName)).join(", ");console.log("Chilld Titles are",o),s="new"!==e.type.toLowerCase()?"".concat(e.title," MBOM can't be Make due to unclassified child items: ").concat(o):"Unable to classify product ".concat(e.title," due to unclassified child items: ").concat(o),console.log("Message is:",s)}else s="Invalid child data for ".concat(e.title,".");P+="".concat(s,"\n")})),console.log(g),console.log("Concatenated Messages:\n",P);let E=p.filter((e=>"new"===e.Type.toLowerCase()&&!g.some((s=>s.id===e.id)))).map((e=>e.id));console.log("New Classes are:",E);let _={};p.forEach((e=>{!g.some((s=>s.id===e.id))&&("update"===e.Type.toLowerCase()||"new"===e.Type.toLowerCase()&&e.MBOMValue)&&(_[e.MBOMName]=e.MBOMValue)})),console.log("Update body is:",_);let A=p.filter((e=>e.MBOMValue&&!g.some((s=>s.id===e.id)))).map((e=>e.id));if(console.log("Propogateable classes are",A),E.length>0){let e="https://emr-product-datahub-server-sap-stage.azurewebsites.net/plantAssignment/classifyProductToClass",s={id:i,type:c,classes:E,mode:"classifyParent"};const o=await l(e,s,"POST");console.log("classifyResponse:",JSON.stringify(o))}if(Object.keys(_).length>0){var S;const s="".concat(e,"/resources/v1/modeler/dslib/dslib:ClassifiedItem/").concat(i),a=await o(s,"","GET");console.log("CStamp Response:",a);let n=(null===(S=a.member[0])||void 0===S?void 0:S.cestamp)||"";_.cestamp=n;const r="https://emr-product-datahub-server-sap-stage.azurewebsites.net/plantAssignment/updateClassificationAttribute?id=".concat(i);await l(r,_,"PATCH"),console.log("Updated database successfully.")}if(A.length>0&&d.length>0&&"VPMReference"===c){let e="https://emr-product-datahub-server-sap-stage.azurewebsites.net/plantAssignment/classifyProductToClass",s={id:i,type:c,classes:A,childs:d,mode:"classifychilds"};const o=await l(e,s,"POST");console.log("child classifyResponse:",JSON.stringify(o))}if(m.length>0){let e="https://emr-product-datahub-server-sap-stage.azurewebsites.net/plantAssignment/declassifyProductToClass",s={id:i,type:c,classes:m};const o=await l(e,s,"POST");console.log("declassifyResponse:",JSON.stringify(o))}return console.log("All classification API calls completed successfully."),{success:!0,message:"Data saved successfully",ErrorObj:g,Finalmessage:P}}catch(u){return console.error("Error occurred:",u),{success:!1,message:"Failed to save data",error:u}}}},174:(e,s,o)=>{o.d(s,{M:()=>a});const a=async(e,s)=>{if(console.log("[refreshWidgetData] called with dataItems:",e),e&&0!==e.length)try{if("function"!==typeof s)throw new Error("[Refresh] handleDrop is not a function.");await s(e)}catch(o){console.error("[Refresh] Error during handleDrop execution:",o)}else console.warn("[Refresh] No dropped data available to refresh.")}},4050:()=>{},4119:()=>{},9555:()=>{},9959:()=>{}}]);
//# sourceMappingURL=582.f8d822cc.chunk.js.map